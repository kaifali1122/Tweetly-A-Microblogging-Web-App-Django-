{% extends "layout.html" %}
{% block title %}Tweets{% endblock %}

{% block content %}
<h3 class="text-center mt-4 mb-3">
  <strong>TWEETS</strong>
  <small class="text-muted d-block">Latest posts from users</small>
</h3>

<div class="text-center mb-4">
  <a href="{% url 'tweet_create' %}" class="btn btn-success">+ Create a Tweet</a>
</div>

<!-- Responsive Grid Layout -->
<div class="row row-cols-1 row-cols-sm-2 row-cols-md-3 g-4">
  {% for tweet in tweets %}
  <div class="col">
    <div class="card shadow-sm border-0" style="width: 14rem; margin: auto;">
      {% if tweet.photo %}
        <img src="{{ tweet.photo.url }}" class="card-img-top" alt="Tweet image" style="height: 180px; object-fit: cover;">
      {% endif %}
      <div class="card-body p-3">
        <h6 class="card-subtitle mb-2 text-muted">@{{ tweet.user.username }}</h6>
        <p class="card-text" style="font-size: 0.9rem;">{{ tweet.text }}</p>
        <div class="d-flex justify-content-between">
          {% if tweet.user == user %}
            <a href="{% url 'tweet_edit' tweet.id %}" class="btn btn-sm btn-outline-primary">Edit</a>
            <a href="{% url 'tweet_delete' tweet.id %}" class="btn btn-sm btn-outline-danger">Delete</a>
          {% endif %}
        </div>
      </div>
    </div>
  </div>
  {% empty %}
  <p class="text-center text-muted">No tweets found ðŸ˜•</p>
  {% endfor %}
</div>
{% endblock %}
